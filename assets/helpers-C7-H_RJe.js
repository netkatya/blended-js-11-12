import{a as c,P as q,i as $}from"./vendor-C-ssPgaG.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}})();c.defaults.baseURL="https://dummyjson.com";async function k(){const{data:t}=await c.get("/products/category-list");return["All",...t]}async function g(t=1,e=12){const o=(t-1)*e,{data:r}=await c.get(`/products?limit=${e}&skip=${o}`);return r.products}async function L(t,e=1,o=12){if(t==="All")return g(e,o);{const r=(e-1)*o,{data:s}=await c.get(`/products/category/${t}/?limit=${o}&skip=${r}`);return s.products}}async function B(t){const{data:e}=await c.get(`/products/${t}`);return e}async function A(t,e=1,o=12){if(!t.trim())return[];const r=(e-1)*o,{data:s}=await c.get(`/products/search?q=${t}&limit=${o}&skip=${r}`);return s.products}async function M(){const{data:t}=await c.get("/products?limit=1");return t.total}const d={categoriesList:document.querySelector("ul.categories"),productsList:document.querySelector("ul.products"),modal:document.querySelector(".modal"),pagination:document.querySelector("#pagination")},f="wishlist",h="cart",P=document.querySelector("ul.categories"),N=()=>P.querySelectorAll("button.categories__btn"),_=document.querySelector("ul.products"),O=document.querySelector(".load-more"),E=document.querySelector("div.not-found"),F=document.querySelector(".modal"),v=document.querySelector(".modal-product"),H=document.querySelector(".search-form"),W=document.querySelector(".search-form__input"),x=document.querySelector(".search-form__btn-clear"),j=document.querySelector(".modal-product__btn--wishlist"),J=document.querySelector("[data-wishlist-count]"),K=document.querySelector(".modal-product__btn--cart"),R=document.querySelector("[data-cart-count]"),z=document.querySelector("[data-count]"),D=document.querySelector("[data-price]"),Y=document.querySelector(".cart-summary__btn"),y=document.querySelector(".loader"),w=document.querySelector(".theme-toggle");document.querySelector(".minus-button");document.querySelector(".plus-button");document.querySelector(".quantity-input");const G=document.querySelector(".tui-pagination");function U(t){const e=t.map(o=>`<li class="categories__item">
            <button class="categories__btn" type="button">${o}</button>
        </li>`).join("");d.categoriesList.innerHTML=e}function C(t){const e=t.map(o=>`<li class="products__item" data-id="${o.id}">
      <img class="products__image" src="${o.thumbnail}" alt="${o.title}"/>
      <p class="products__title">${o.title}</p>
      <p class="products__brand"><span class="products__brand--bold">Brand:${o.brand}</span></p>
      <p class="products__category">Category:${o.category}</p>
      <p class="products__price">Price: $${o.price}</p>
      
      <div class="product" data-id="${o.id}">
        <div class="product-quantity-product hidden">
          <button class="minus-button quantity-button">-</button>
          <input type="number" value="${o.quantity}" min="1" max="100" class="quantity-input" readonly>
          <button class="plus-button quantity-button">+</button>
        </div>
      </div>
    </li>`).join("");d.productsList.innerHTML=e}function Q(t){const{thumbnail:e,title:o,description:r,price:s,tags:a}=t;v.innerHTML=`
        <img class="modal-product__img" src="${e}" alt="${o}" />
        <div class="modal-product__content">
            <p class="modal-product__title">${o}</p>
            <ul class="modal-product__tags">
                ${a.map(i=>`<li>${i}</li>`).join("")}
            </ul>
            <p class="modal-product__description">${r}</p>
            <p class="modal-product__shipping-information">Shipping: Free worldwide shipping</p>
            <p class="modal-product__return-policy">Return Policy: 30 days money back guarantee</p>
            <p class="modal-product__price">Price: $${s}</p>
        </div>
    `}d.modal.addEventListener("click",t=>{const e=t.target.classList.contains("minus-button"),o=t.target.classList.contains("plus-button");if(!e&&!o)return;const r=t.target.closest(".product-quantity").querySelector(".quantity-input");let s=parseInt(r.value);e&&s>1&&(r.value=s-1),o&&s<100&&(r.value=s+1)});const m=()=>{try{const t=localStorage.getItem(f);return t?JSON.parse(t):[]}catch(t){return console.error("Wishlist data corrupted in localStorage:",t),[]}},S=t=>{localStorage.setItem(f,JSON.stringify(t))},V=t=>{const e=m();e.includes(t)||(e.push(t),S(e))},X=t=>{let e=m();e=e.filter(o=>o!==t),S(e)},Z=t=>m().includes(t),p=()=>{try{const t=localStorage.getItem(h);return(t?JSON.parse(t):[]).filter(o=>o&&(typeof o.id=="number"||typeof o.id=="string"))}catch(t){return console.error("Cart data corrupted in localStorage:",t),[]}},b=t=>{localStorage.setItem(h,JSON.stringify(t))},tt=(t,e=1)=>{const o=Number(t);let r=p();const s=r.findIndex(a=>a.id===o);s!==-1?r[s].quantity+=e:r.push({id:o,quantity:e}),b(r)},et=t=>{let e=p();const o=e.find(r=>r.id===t);o&&(o.quantity>1?o.quantity-=1:e=e.filter(r=>r.id!==t),b(e))},ot=t=>p().some(o=>o.id===t),u=12;let l="All",n=null;const st=(t="All")=>{l=t,_.innerHTML="",n&&n.reset()},rt=t=>{n&&(n.destroy(),n=null),n=new q("pagination",{totalItems:t,itemsPerPage:u,visiblePages:5,centerAlign:!0}),n.on("afterMove",async e=>{const o=e.page;await I(o)})},I=async t=>{y.style.display="block";try{let e;l==="All"?e=await g(t,u):e=await L(l,t,u),e.length===0?($.info({title:"Info",message:"No products found.",position:"topRight"}),_.innerHTML=""):C(e)}catch(e){console.error("Error loading products:",e)}finally{y.style.display="none"}};function at(){const t=localStorage.getItem("theme")||"light";document.body.classList.add(`${t}-theme`),w.addEventListener("click",()=>{document.body.classList.contains("light-theme")?(document.body.classList.replace("light-theme","dark-theme"),localStorage.setItem("theme","dark")):(document.body.classList.replace("dark-theme","light-theme"),localStorage.setItem("theme","light"))})}export{W as A,x as B,L as C,G as D,H as E,A as F,O as G,M as H,rt as I,I as J,Y as K,b as L,z as M,D as N,X as a,V as b,K as c,ot as d,et as e,B as f,tt as g,at as h,Z as i,m as j,p as k,R as l,F as m,J as n,E as o,_ as p,C as q,Q as r,y as s,k as t,U as u,g as v,j as w,P as x,st as y,N as z};
//# sourceMappingURL=helpers-C7-H_RJe.js.map
