import{p as l,f as m,r as h,m as a,y as u,z as v,A as x,B as P,H as I,F as r,c as w,G as T,I as c,J as i,d,e as B}from"./assets/helpers-BxYx0NsJ.js";import{i as L}from"./assets/vendor-CLZFq-H_.js";const p=()=>{const t=r();T.textContent=t.length},g=t=>{v(t)?u.textContent="Remove from Cart":u.textContent="Add to Cart"},C=async()=>{const t=r();if(t.length===0){c.textContent="0",i.textContent="$0.00";return}try{const o=t.map(n=>m(n)),e=await Promise.all(o);c.textContent=e.length;const s=e.reduce((n,y)=>n+(y.price||0),0);i.textContent=`$${s.toFixed(2)}`}catch(o){console.error("Помилка при підрахунку Total:",o),c.textContent="0",i.textContent="$0.00"}},f=async()=>{const t=r();if(t.length===0){d.classList.add("not-found--visible"),l.innerHTML="";return}try{const o=t.map(s=>m(s)),e=await Promise.all(o);d.classList.remove("not-found--visible"),B(e)}catch(o){console.error("Помилка при завантаженні cart:",o),d.classList.add("not-found--visible"),l.innerHTML=""}};l.addEventListener("click",async t=>{const o=t.target.closest("li.products__item");if(!o)return;const e=o.dataset.id;if(e)try{const s=await m(e);h(s),a.classList.add("modal--is-open"),g(e),u.onclick=()=>{v(e)?x(e):P(e),g(e),p(),f(),C()}}catch(s){console.error("Помилка при завантаженні продукту:",s)}});I.addEventListener("click",async()=>{if(r().length===0){L.warning({title:"Oops!",message:"Your cart is empty!",position:"topLeft"});return}L.success({title:"Success!",message:"Products purchased successfully!",position:"topLeft"}),localStorage.removeItem("cart"),await f(),p(),await C()});a.addEventListener("click",t=>{(t.target===a||t.target.classList.contains("modal__close-btn"))&&a.classList.remove("modal--is-open")});document.addEventListener("DOMContentLoaded",()=>{f(),p(),C()});w();
//# sourceMappingURL=cart.js.map
