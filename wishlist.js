import{p as i,f,r as g,m as a,w as r,i as c,a as m,b as W,c as d,d as p,e as w,g as y,h as x,j as v,n as I,k as P,l as b,o as n,q as k}from"./assets/helpers-Bjl5bdNR.js";import"./assets/vendor-C-ssPgaG.js";const l=()=>{const s=v();I.textContent=s.length},L=()=>{const o=P().reduce((t,e)=>t+(e.quantity||1),0);b.textContent=o},h=s=>{c(s)?r.textContent="Remove from Wishlist":r.textContent="Add to Wishlist"},u=async()=>{const s=v();if(s.length===0){n.classList.add("not-found--visible"),i.innerHTML="";return}try{const o=s.map(e=>f(e)),t=await Promise.all(o);n.classList.remove("not-found--visible"),k(t)}catch(o){console.error("Помилка при завантаженні wishlist:",o),n.classList.add("not-found--visible"),i.innerHTML=""}};i.addEventListener("click",async s=>{const o=s.target.closest("li.products__item");if(!o)return;const t=o.dataset.id;if(t)try{const e=await f(t);g(e),a.classList.add("modal--is-open"),h(t),C(t),r.onclick=()=>{c(t)?m(t):W(t),h(t),l(),u()},d.onclick=()=>{p(t)?w(t):(y(t),c(t)&&(m(t),l(),u())),C(t),L()}}catch(e){console.error("Помилка при завантаженні продукту:",e)}});const C=s=>{p(s)?d.textContent="Remove from Cart":d.textContent="Add to Cart"};a.addEventListener("click",s=>{(s.target===a||s.target.classList.contains("modal__close-btn"))&&a.classList.remove("modal--is-open")});document.addEventListener("DOMContentLoaded",()=>{u(),l(),L()});x();
//# sourceMappingURL=wishlist.js.map
