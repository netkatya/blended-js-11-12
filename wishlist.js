import{p as r,f,r as W,m as n,w as c,i as p,a as m,b as w,c as h,d as a,e as x,g as P,h as b,j as v,n as k,k as y,l as B,o as i,q as I}from"./assets/helpers-CR-8xcWr.js";import"./assets/vendor-C-ssPgaG.js";const d=()=>{const t=v();k.textContent=t.length},L=()=>{const t=y();B.textContent=t.length},C=t=>{p(t)?c.textContent="Remove from Wishlist":c.textContent="Add to Wishlist"},l=async()=>{const t=v();if(t.length===0){i.classList.add("not-found--visible"),r.innerHTML="";return}try{const o=t.map(e=>f(e)),s=await Promise.all(o);i.classList.remove("not-found--visible"),I(s)}catch(o){console.error("Помилка при завантаженні wishlist:",o),i.classList.add("not-found--visible"),r.innerHTML=""}};r.addEventListener("click",async t=>{const o=t.target.closest("li.products__item");if(!o)return;const s=o.dataset.id;if(s)try{const e=await f(s);W(e),n.classList.add("modal--is-open"),C(s),c.onclick=()=>{p(s)?m(s):w(s),C(s),d(),l()};const g=u=>{h(u)?(a.textContent="Remove from Cart",m(u),l(),d()):a.textContent="Add to Cart"};a.onclick=()=>{h(s)?x(s):P(s),g(s),L()}}catch(e){console.error("Помилка при завантаженні продукту:",e)}});n.addEventListener("click",t=>{(t.target===n||t.target.classList.contains("modal__close-btn"))&&n.classList.remove("modal--is-open")});document.addEventListener("DOMContentLoaded",()=>{l(),d(),L()});b();
//# sourceMappingURL=wishlist.js.map
