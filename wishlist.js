import"./assets/styles-BK7AYJoX.js";import{p as r,f as c,r as p,m as e,w as a,i as l,a as f,b as L,g as u,n as v,c as n,d as W}from"./assets/storage-CP7TJ6jn.js";import"./assets/vendor-DGDcxXwr.js";const m=()=>{const t=u();v.textContent=t.length},d=t=>{l(t)?a.textContent="Remove from Wishlist":a.textContent="Add to Wishlist"},h=async()=>{const t=u();if(t.length===0){n.classList.add("not-found--visible"),r.innerHTML="";return}try{const o=t.map(i=>c(i)),s=await Promise.all(o);n.classList.remove("not-found--visible"),W(s)}catch(o){console.error("Помилка при завантаженні wishlist:",o),n.classList.add("not-found--visible"),r.innerHTML=""}};r.addEventListener("click",async t=>{const o=t.target.closest("li.products__item");if(!o)return;const s=o.dataset.id;if(s)try{const i=await c(s);p(i),e.classList.add("modal--is-open"),d(s),a.onclick=()=>{l(s)?f(s):L(s),d(s),m(),h()}}catch(i){console.error("Помилка при завантаженні продукту:",i)}});e.addEventListener("click",t=>{(t.target===e||t.target.classList.contains("modal__close-btn"))&&e.classList.remove("modal--is-open")});document.addEventListener("DOMContentLoaded",()=>{h(),m()});
//# sourceMappingURL=wishlist.js.map
