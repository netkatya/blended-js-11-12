import"./assets/styles-BK7AYJoX.js";import{e as p,h as b,j as L,d as u,k as m,l as y,s as i,o as l,c as a,q as _,p as r,f as w,r as C,m as d,w as v,i as f,a as E,b as M,t as P,u as W,g as k,n as B}from"./assets/storage-CP7TJ6jn.js";import"./assets/vendor-DGDcxXwr.js";let n=1;const c=12,g=()=>{const t=k();B.textContent=t.length},h=t=>{f(t)?v.textContent="Remove from Wishlist":v.textContent="Add to Wishlist"};document.addEventListener("DOMContentLoaded",async()=>{try{const t=await p();b(t);const e=await L(n,c);u(e),g()}catch(t){console.error("Error loading data:",t)}});m().forEach(t=>{t.classList.remove("categories__btn--active")});y.addEventListener("click",async t=>{const e=t.target.closest("button.categories__btn");if(!e)return;const s=e.textContent.trim();m().forEach(o=>o.classList.remove("categories__btn--active")),e.classList.add("categories__btn--active"),i.value="",l.classList.add("hidden"),a.classList.remove("not-found--visible");try{const o=s==="All"?await L(n,c):await _(s,n,c);o.length===0?(a.classList.add("not-found--visible"),r.innerHTML=""):(a.classList.remove("not-found--visible"),u(o))}catch(o){console.error("Помилка при завантаженні продуктів:",o),a.classList.add("not-found--visible"),r.innerHTML=""}});r.addEventListener("click",async t=>{const e=t.target.closest("li.products__item");if(!e)return;const s=e.dataset.id;if(s)try{const o=await w(s);C(o),d.classList.add("modal--is-open"),h(s),v.onclick=()=>{f(s)?E(s):M(s),h(s),g()}}catch(o){console.error("Помилка при завантаженні продукту:",o)}});d.addEventListener("click",t=>{(t.target===d||t.target.classList.contains("modal__close-btn"))&&d.classList.remove("modal--is-open")});P.addEventListener("submit",async t=>{t.preventDefault();const e=i.value.trim();if(e)try{const s=await W(e,n,c);s.length===0?(a.classList.add("not-found--visible"),r.innerHTML=""):(a.classList.remove("not-found--visible"),u(s))}catch(s){console.error("Помилка при завантаженні продуктів:",s),a.classList.add("not-found--visible"),r.innerHTML=""}});i.addEventListener("input",()=>{l.classList.toggle("hidden",i.value.trim()==="")});l.addEventListener("click",async()=>{i.value="",l.classList.add("hidden"),a.classList.remove("not-found--visible");try{const t=await L(n,c);u(t)}catch(t){console.error("Помилка при завантаженні всіх продуктів:",t),r.innerHTML="",a.classList.add("not-found--visible")}});
//# sourceMappingURL=index.js.map
