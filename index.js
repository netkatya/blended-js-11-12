import{p as n,l as o,e as v,h as L,j as i,d,k as _,o as I,q as M,s as T,t as l,u as p,c as r,f as A,r as W,m as u,w as b,i as C,a as x,b as H,v as k,x as E,y as D,z as F,A as N,B as R,g as q,n as z,C as $,D as j}from"./assets/storage-CYTwZuui.js";import{i as O}from"./assets/vendor-CLZFq-H_.js";let y=1;const g=12;let f="All";const S=(t="All")=>{y=1,f=t,n.innerHTML=""},G=async()=>{o.style.display="block";try{y+=1;let t;f==="All"?t=await v(y,g):t=await L(f,y,g),t.length===0?(i.style.display="none",O.info({title:"Info",message:"No more products to load.",position:"topRight"})):d(t)}catch(t){console.error("Error loading more products:",t)}finally{o.style.display="none"}};let w=1;const c=12,B=()=>{const t=q();z.textContent=t.length},P=()=>{const t=$();j.textContent=t.length},m=t=>{b.textContent=C(t)?"Remove from Wishlist":"Add to Wishlist"},h=t=>{k.textContent=E(t)?"Remove from Cart":"Add to Cart"};document.addEventListener("DOMContentLoaded",async()=>{o.style.display="block";try{const t=await _();I(t);const a=await v(w,c);d(a),B(),P()}catch(t){console.error("Error loading data:",t)}finally{o.style.display="none"}});M.addEventListener("click",async t=>{const a=t.target.closest("button.categories__btn");if(!a)return;o.style.display="block";const s=a.textContent.trim();S(s),T().forEach(e=>e.classList.remove("categories__btn--active")),a.classList.add("categories__btn--active"),l.value="",p.classList.add("hidden"),r.classList.remove("not-found--visible");try{let e;s==="All"?e=await v(1,c):e=await L(s,1,c),e.length===0?(r.classList.add("not-found--visible"),n.innerHTML="",i.style.display="none"):(r.classList.remove("not-found--visible"),d(e),i.style.display="block")}catch(e){console.error("Error loading category:",e)}finally{o.style.display="none"}});n.addEventListener("click",async t=>{const a=t.target.closest("li.products__item");if(!a)return;const s=a.dataset.id;if(s){o.style.display="block";try{const e=await A(s);W(e),u.classList.add("modal--is-open"),m(s),h(s),b.onclick=()=>{C(s)?x(s):H(s),m(s),B()},k.onclick=()=>{E(s)?D(s):F(s),h(s),P()}}catch(e){console.error("Error loading product:",e)}finally{o.style.display="none"}}});u.addEventListener("click",t=>{(t.target===u||t.target.classList.contains("modal__close-btn"))&&u.classList.remove("modal--is-open")});N.addEventListener("submit",async t=>{t.preventDefault();const a=l.value.trim();if(a){o.style.display="block";try{const s=await R(a,w,c);s.length===0?(r.classList.add("not-found--visible"),n.innerHTML=""):(r.classList.remove("not-found--visible"),d(s),i.style.display="none")}catch(s){console.error("Error searching products:",s),r.classList.add("not-found--visible"),n.innerHTML=""}finally{o.style.display="none"}}});l.addEventListener("input",()=>{p.classList.toggle("hidden",l.value.trim()==="")});p.addEventListener("click",async()=>{l.value="",p.classList.add("hidden"),r.classList.remove("not-found--visible"),o.style.display="block";try{const t=await v(1,c);d(t),i.style.display="block"}catch(t){console.error("Error loading all products:",t),n.innerHTML="",r.classList.add("not-found--visible")}finally{o.style.display="none"}});i.addEventListener("click",G);
//# sourceMappingURL=index.js.map
