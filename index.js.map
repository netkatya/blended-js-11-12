{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/constants.js","../src/js/render-function.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\nimport axios from 'axios';\n\naxios.defaults.baseURL = \"https://dummyjson.com\";\n\n\nexport async function fetchCategories() {\n    const { data } = await axios.get(\"/products/category-list\");\n    return [\"All\", ...data];\n}\n\nexport async function fetchProducts(page = 1, limit = 12) {\n    const skip = (page - 1) * limit;\n    const { data } = await axios.get(`/products?limit=${limit}&skip=${skip}`);\n    return data.products;\n}\n\nexport async function fetchProductsByCategory(category, page = 1, limit = 12) {\n    if (category === \"All\") {\n        return fetchProducts(page, limit)\n    } else {\n        const skip = (page - 1) * limit;\n        const { data } = await axios.get(`/products/category/${category}/?limit=${limit}&skip=${skip}`);\n        return data.products;\n    }\n}\n\nexport async function fetchProductsById(id) {\n    const { data } = await axios.get(`/products/${id}`);\n    return data;\n}\n\nexport async function searchProducts(query, page = 1, limit = 12) {\n    if (!query.trim()) return []; \n    const skip = (page - 1) * limit;\n    const { data } = await axios.get(`/products/search?q=${query}&limit=${limit}&skip=${skip}`);\n    return data.products;\n}\n\n\n\n\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n    categoriesList: document.querySelector(\"ul.categories\"),\n    productsList: document.querySelector(\"ul.products\"),\n};\n","//Константи\n\nexport const STORAGE_KEYS = {};\n\nexport const categoriesList = document.querySelector('ul.categories');\nexport const productsList = document.querySelector('ul.products');\nexport const notFoundDiv = document.querySelector('div.not-found');\nexport const modal = document.querySelector('.modal');\nexport const modalProduct = document.querySelector('.modal-product');","//Функцію для створення, рендеру або видалення розмітки\n\nimport { refs } from \"./refs\";\nimport { modalProduct } from \"./constants\";\n\nexport function renderCategories(categories) {\n    const markupCategories = categories.map(category =>\n        `<li class=\"categories__item\">\n            <button class=\"categories__btn\" type=\"button\">${category}</button>\n        </li>`\n    ).join(\"\");\n\n    refs.categoriesList.innerHTML = markupCategories;\n}\n\nexport function renderProducts(products) {\n    const markupProducts = products.map(product =>\n        `<li class=\"products__item\" data-id=\"${product.id}\">\n        <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${product.title}\"/>\n        <p class=\"products__title\">${product.title}</p>\n        <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${product.brand}</span></p>\n        <p class=\"products__category\">Category:${product.category} </p>\n        <p class=\"products__price\">Price: $${product.price}</p>\n    </li>`\n    ).join(\"\");\n\n    refs.productsList.innerHTML = markupProducts;\n}\n\nexport function renderProductInModal(product) {\n    const { thumbnail, title, description, price, tags, brand } = product;\n\n    modalProduct.innerHTML = `\n        <img class=\"modal-product__img\" src=\"${thumbnail}\" alt=\"${title}\" />\n        <div class=\"modal-product__content\">\n            <p class=\"modal-product__title\">${title}</p>\n            <ul class=\"modal-product__tags\">\n                ${tags.map(tag => `<li>${tag}</li>`).join('')}\n            </ul>\n            <p class=\"modal-product__description\">${description}</p>\n            <p class=\"modal-product__shipping-information\">Shipping: Free worldwide shipping</p>\n            <p class=\"modal-product__return-policy\">Return Policy: 30 days money back guarantee</p>\n            <p class=\"modal-product__price\">Price: $${price}</p>\n            <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n        </div>\n    `;\n}","//Логіка сторінки Home\n\nimport { fetchCategories, fetchProducts, fetchProductsByCategory, fetchProductsById } from \"./js/products-api\";\nimport { renderCategories, renderProducts, renderProductInModal } from \"./js/render-function\";\nimport { categoriesList, productsList, notFoundDiv, modal, modalProduct } from \"./js/constants\";\n\nlet currentPage = 1;\nconst limit = 12;\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    try {\n        const categories = await fetchCategories();\n        renderCategories(categories);\n\n        const products = await fetchProducts(currentPage, limit);\n        renderProducts(products);\n    } catch (error) {\n        console.error('Error loading data:', error);\n    }\n});\n\ncategoriesList.addEventListener(\"click\", async (event) => {\n    const button = event.target.closest(\"button.categories__btn\");\n    if (!button) return;\n\n    const category = button.textContent.trim();\n\n    document.querySelectorAll(\".categories__btn\").forEach(btn => {\n        btn.classList.remove(\"categories__btn--active\");\n    });\n\n    button.classList.add(\"categories__btn--active\");\n\n    let products = [];\n\n    try {\n        if (category === \"All\") {\n            products = await fetchProducts(currentPage, limit);\n        } else {\n            products = await fetchProductsByCategory(category, currentPage, limit);\n        }\n\n        if (products.length === 0) {\n            notFoundDiv.classList.add('not-found--visible');\n            productsList.innerHTML = '';\n        } else {\n            notFoundDiv.classList.remove('not-found--visible');\n            renderProducts(products);\n        }\n    } catch (error) {\n        console.error('Помилка при завантаженні продуктів:', error);\n        notFoundDiv.classList.add('not-found--visible');\n        productsList.innerHTML = '';\n    }\n});\n\nproductsList.addEventListener(\"click\", async (event) => {\n    const productItem = event.target.closest(\"li.products__item\");\n    if (!productItem) return;\n\n    const productId = productItem.dataset.id;\n    if (!productId) return;\n\n    try {\n        const product = await fetchProductsById(productId);\n        renderProductInModal(product);\n        modal.classList.add(\"modal--is-open\"); // Відкрити модальне вікно\n    } catch (error) {\n        console.error('Помилка при завантаженні продукту:', error);\n    }\n});\n\n// Додатково — закриття модалки\nmodal.addEventListener(\"click\", (event) => {\n    if (event.target === modal || event.target.classList.contains(\"modal__close-btn\")) {\n        modal.classList.remove(\"modal--is-open\");\n    }\n});"],"names":["axios","fetchCategories","data","fetchProducts","page","limit","skip","fetchProductsByCategory","category","fetchProductsById","id","refs","categoriesList","productsList","notFoundDiv","modal","modalProduct","renderCategories","categories","markupCategories","renderProducts","products","markupProducts","product","renderProductInModal","thumbnail","title","description","price","tags","brand","tag","currentPage","error","event","button","btn","productItem","productId"],"mappings":"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"}