{"version":3,"file":"index.js","sources":["../src/js/products-api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/constants.js","../src/home.js"],"sourcesContent":["// Функції для роботи з бекендом\nimport axios from 'axios';\n\naxios.defaults.baseURL = \"https://dummyjson.com\";\n\n\nexport async function fetchCategories() {\n    const { data } = await axios.get(\"/products/category-list\");\n    return [\"All\", ...data];\n}\n\nexport async function fetchProducts(page = 1, limit = 12) {\n    const skip = (page - 1) * limit;\n    const { data } = await axios.get(`/products?limit=${limit}&skip=${skip}`);\n    return data.products;\n}\n\nexport async function fetchProductsByCategory(category, page = 1, limit = 12) {\n    if (category === \"All\") {\n        return fetchProducts(page, limit)\n    } else {\n        const skip = (page - 1) * limit;\n        const { data } = await axios.get(`/products/category/${category}/?limit=${limit}&skip=${skip}`);\n        return data.products;\n    }\n}\n\nexport async function fetchProductsById(id) {\n    const { data } = await axios.get(`/products/${id}`);\n    return data;\n}\n\nexport async function searchProducts(query, page = 1, limit = 12) {\n    if (!query.trim()) return []; \n    const skip = (page - 1) * limit;\n    const { data } = await axios.get(`/products/search?q=${query}&limit=${limit}&skip=${skip}`);\n    return data.products;\n}\n\n\n\n\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n    categoriesList: document.querySelector(\"ul.categories\"),\n    productsList: document.querySelector(\"ul.products\"),\n};\n","//Функцію для створення, рендеру або видалення розмітки\n\nimport { refs } from \"./refs\";\n\nexport function renderCategories(categories) {\n    const markupCategories = categories.map(category =>\n        `<li class=\"categories__item\">\n            <button class=\"categories__btn\" type=\"button\">${category}</button>\n        </li>`\n    ).join(\"\");\n\n    refs.categoriesList.innerHTML = markupCategories;\n}\n\nexport function renderProducts(products) {\n    const markupProducts = products.map(product =>\n        `<li class=\"products__item\" data-id=\"\">\n        <img class=\"products__image\" src=\"\" alt=\"\"/>\n        <p class=\"products__title\"></p>\n        <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span></p>\n        <p class=\"products__category\">Category: </p>\n        <p class=\"products__price\">Price: $</p>\n    </li>`\n    ).join(\"\");\n\n    refs.productsList.innerHTML = markupProducts;\n}","//Константи\n\nexport const STORAGE_KEYS = {};\n\nexport const categoriesList = document.querySelector('ul.categories');\nexport const productsList = document.querySelector('ul.products');\nexport const notFoundDiv = document.querySelector('div.not-found');","//Логіка сторінки Home\n\nimport { fetchCategories, fetchProducts, fetchProductsByCategory } from \"./js/products-api\";\nimport { renderCategories, renderProducts } from \"./js/render-function\";\nimport { categoriesList, productsList, notFoundDiv } from \"./js/constants\";\n\nlet currentPage = 1;\nconst limit = 12;\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    try {\n        const categories = await fetchCategories();\n        renderCategories(categories);\n\n        const products = await fetchProducts(currentPage, limit);\n        renderProducts(products);\n    } catch (error) {\n        console.error('Error loading data:', error);\n    }\n});\n\ncategoriesList.addEventListener(\"click\", async (event) => {\n    const button = event.target.closest(\"button.categories__btn\");\n    if (!button) return;\n\n    const category = button.textContent.trim();\n\n    document.querySelectorAll(\".categories__btn\").forEach(btn => {\n        btn.classList.remove(\"categories__btn--active\");\n    });\n\n    button.classList.add(\"categories__btn--active\");\n\n    let products = [];\n\n    try {\n        if (category === \"All\") {\n            products = await fetchProducts(currentPage, limit);\n        } else {\n            products = await fetchProductsByCategory(category, currentPage, limit);\n        }\n\n        if (products.length === 0) {\n            notFoundDiv.classList.add('not-found--visible');\n            productsList.innerHTML = '';\n        } else {\n            notFoundDiv.classList.remove('not-found--visible');\n            renderProducts(products);\n        }\n    } catch (error) {\n        console.error('Помилка при завантаженні продуктів:', error);\n        notFoundDiv.classList.add('not-found--visible');\n        productsList.innerHTML = '';\n    }\n});"],"names":["axios","fetchCategories","data","fetchProducts","page","limit","skip","fetchProductsByCategory","category","refs","renderCategories","categories","markupCategories","renderProducts","products","markupProducts","product","categoriesList","productsList","notFoundDiv","currentPage","error","event","button","btn"],"mappings":"oFAGAA,EAAM,SAAS,QAAU,wBAGlB,eAAeC,GAAkB,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,yBAAyB,EAC1D,MAAO,CAAC,MAAO,GAAGE,CAAI,CAC1B,CAEO,eAAeC,EAAcC,EAAO,EAAGC,EAAQ,GAAI,CACtD,MAAMC,GAAQF,EAAO,GAAKC,EACpB,CAAE,KAAAH,CAAI,EAAK,MAAMF,EAAM,IAAI,mBAAmBK,CAAK,SAASC,CAAI,EAAE,EACxE,OAAOJ,EAAK,QAChB,CAEO,eAAeK,EAAwBC,EAAUJ,EAAO,EAAGC,EAAQ,GAAI,CAC1E,GAAIG,IAAa,MACb,OAAOL,EAAcC,EAAMC,CAAK,EAC7B,CACH,MAAMC,GAAQF,EAAO,GAAKC,EACpB,CAAE,KAAAH,CAAM,EAAG,MAAMF,EAAM,IAAI,sBAAsBQ,CAAQ,WAAWH,CAAK,SAASC,CAAI,EAAE,EAC9F,OAAOJ,EAAK,QACf,CACL,CCvBO,MAAMO,EAAO,CAChB,eAAgB,SAAS,cAAc,eAAe,EACtD,aAAc,SAAS,cAAc,aAAa,CACtD,ECDO,SAASC,EAAiBC,EAAY,CACzC,MAAMC,EAAmBD,EAAW,IAAIH,GACpC;AAAA,4DACoDA,CAAQ;AAAA,cAEpE,EAAM,KAAK,EAAE,EAETC,EAAK,eAAe,UAAYG,CACpC,CAEO,SAASC,EAAeC,EAAU,CACrC,MAAMC,EAAiBD,EAAS,IAAIE,GAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAOR,EAAM,KAAK,EAAE,EAETP,EAAK,aAAa,UAAYM,CAClC,CCtBO,MAAME,EAAiB,SAAS,cAAc,eAAe,EACvDC,EAAe,SAAS,cAAc,aAAa,EACnDC,EAAc,SAAS,cAAc,eAAe,ECAjE,IAAIC,EAAc,EAClB,MAAMf,EAAQ,GAEd,SAAS,iBAAiB,mBAAoB,SAAY,CACtD,GAAI,CACA,MAAMM,EAAa,MAAMV,IACzBS,EAAiBC,CAAU,EAE3B,MAAMG,EAAW,MAAMX,EAAciB,EAAaf,CAAK,EACvDQ,EAAeC,CAAQ,CAC1B,OAAQO,EAAO,CACZ,QAAQ,MAAM,sBAAuBA,CAAK,CAC7C,CACL,CAAC,EAEDJ,EAAe,iBAAiB,QAAS,MAAOK,GAAU,CACtD,MAAMC,EAASD,EAAM,OAAO,QAAQ,wBAAwB,EAC5D,GAAI,CAACC,EAAQ,OAEb,MAAMf,EAAWe,EAAO,YAAY,KAAI,EAExC,SAAS,iBAAiB,kBAAkB,EAAE,QAAQC,GAAO,CACzDA,EAAI,UAAU,OAAO,yBAAyB,CACtD,CAAK,EAEDD,EAAO,UAAU,IAAI,yBAAyB,EAE9C,IAAIT,EAAW,CAAA,EAEf,GAAI,CACIN,IAAa,MACbM,EAAW,MAAMX,EAAciB,EAAaf,CAAK,EAEjDS,EAAW,MAAMP,EAAwBC,EAAUY,EAAaf,CAAK,EAGrES,EAAS,SAAW,GACpBK,EAAY,UAAU,IAAI,oBAAoB,EAC9CD,EAAa,UAAY,KAEzBC,EAAY,UAAU,OAAO,oBAAoB,EACjDN,EAAeC,CAAQ,EAE9B,OAAQO,EAAO,CACZ,QAAQ,MAAM,sCAAuCA,CAAK,EAC1DF,EAAY,UAAU,IAAI,oBAAoB,EAC9CD,EAAa,UAAY,EAC5B,CACL,CAAC"}